sudo: required
dist: bionic

language: crystal

crystal:
  - latest
  - nightly

jobs:
  allow_failures:
    - crystal: nightly

addons:
  apt:
    packages:
      - libevent-dev
      - libyaml-dev
      - libgphoto2-6
      - libgphoto2-dev
      - libgphoto2-port12

install:
  - shards install

script:
  - crystal spec
  - bin/ameba
